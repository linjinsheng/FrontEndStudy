<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*************发布-订阅模式******************')  
    //  定义发布者
    var shoeObj = {};
    //  有一个列表用来存放函数
    shoeObj.list = [];
    //  增加订阅者
    shoeObj.listen = function(fn){
      shoeObj.list.push(fn);
    }

    //  发布消息
    shoeObj.trigger = function (){
      //  遍历这个数组,然后执行这个函数
      for(var i = 0 , fn; fn = this.list[i++];){
        fn.apply(this, arguments);
      }
    }

    shoeObj.listen(function(color, size){
      console.log(`颜色是${color}`);
      console.log(`尺码是${size}`);
    })

    shoeObj.listen(function(color, size){
      console.log(`再次打印颜色是${color}`);
      console.log(`再次打印尺码是${size}`);
    })

    shoeObj.trigger('红色', 37);
    shoeObj.trigger('黑色', 42);

    </script>
  </body>
</html>
