<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*************实现Array.reduce******************')
    /**
     * 

      1、在Array的原型对象上添加”_reduce“函数
      2、”_reduce“函数第一个参数为回调函数，第二个参数为初始值
      3、进入数组长度的循环体中
      4、当初始值为空时，首个被加数为数组的第一项
      5、当初始值不为空时，首个被加数为初始值

    */
    Array.prototype._reduce = function(fn, prev) {
        let array = this;
        let len = array.length
        for(let i=0 ; i < len ; i++) {
            if(prev === undefined) {
                prev = fn(array[i], array[i+1], i+1, array);
                i++;
            } else {
                prev = fn(prev, array[i], i, array);
            }
        }
        return prev
    }
    let initialValue = 0;
     let arr = [10, 20, 30, 40];
     let res = arr._reduce(function(prev, item, index, array){
       return prev + item;
     }, initialValue);
     console.log(res);      
    </script>
  </body>
</html>
