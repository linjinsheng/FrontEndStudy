<!DOCTYPE html>
<html>
  <head>
    <title>观察者模式模式</title>
  </head>
  <body>
    <script>
    console.log('*******************************')
     /**
      1、被观察者构造函数声明三个属性分别为"name"用于保存被观察者姓名、"state"用于保存被观察者状态、
        "observers"用于保存观察者们
      2、被观察者创建"setObserver"函数，该函数通过数组的push函数将观察者参数传入"observers"数组中
      3、被观察者创建"setState"函数，该函数首先通过参数修改被观察者的"state"属性，
         然后通过遍历"observers"数组分别调用各个观察者的"update"函数并且将该被观察者作为参数传入
      4、观察者创建"update"函数，用于打印信息
      */
      class Observerd {
          constructor(name) {
              this.name = name
              this.state = '走路'
              this.observers = []
          }
          setObserver(observer) {
              this.observers.push(observer)
          }
          setState(state) {
              this.state = state
              this.observers.forEach(observer => observer.update(this))
          }
      }
      class Observer {
          constructor() {
              
          }
          update(observerd) {
              console.log(observerd.name + '正在' + observerd.state)
          }
      }

    </script>
  </body>
</html>
