<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*******************************')
    /*
    概念:
    XSS攻击: Cross-Site Scripting 跨站脚本攻击
    一种代码注入攻击.攻击者通过网站注入恶意脚本,使之在用户的浏览器上运行,从而盗取用户的信息如cookie;

    攻击方式:
    1、获取页面的数据,如DOM、cookie、localStorage;
    2、DOS攻击,发送合理请求,占用服务器资源,从而使用户无法访问服务器;
    3、破坏页面结构
    4、流量劫持(将链接指向某网站);
    
    xss类型
    1、存储型
    恶意脚本存储在目标服务器上,当浏览器请求数据时,脚本从服务器传回并执行;
    使用场景:论坛发帖、商品评论、用户私信;	
    2、反射型
    攻击者诱导用户访问一个带有恶意代码的URL后,服务器端接收数据后处理,然后把带有恶意代码的数据发送到浏览器端,
    浏览器端解析这段带有XSS代码的数据当作脚本执行,最后完成XSS攻击;
    使用场景:通过URL传递参数的功能,如网站搜素、跳转等;
    3、DOM型
    通过修改页面的DOM节点形成的XSS
    使用场景: 浏览器自身的安全漏洞;使用document.write直接输出数据;使用innerHTML直接输出数据;
    使用location、location.href等.

        
    防范手段：
    1、从浏览器的执行来预防,使用纯前端的方式,不使用服务器端拼接后返回;
    2、对需要插入到HTML中的代码做好充分的转义;
    3、使用CSP(内容安全策略),建立一个白名单,告诉浏览器哪些外部资源可以加载和执行,从而防止恶意代码的注入攻击;
    4、对敏感信息进行保护,比如cookie使用http-only,使得脚本无法获取;
    5、使用验证码,避免脚本伪装成用户执行一些操作.
    */ 
    </script>
  </body>
</html>
