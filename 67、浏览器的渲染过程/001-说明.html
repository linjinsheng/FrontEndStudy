<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*******************************')
    /**
      浏览器的渲染过程
      0、服务伏案给浏览器返回html
      1、解析收到的html
      2、下载css、js、图片等资源
      3、html生成dom树;
      4、解析css,生成cssdom;
      5、结合dom树和cssdom树构建生成渲染树,渲染树的节点成为渲染对象
      6、渲染对象被创建并添加到树中,浏览器根据渲染树进行布局,清除各个元素节点的位置和大小尺寸;
      7、布局完成,进行绘制,遍历渲染树并调用渲染树的绘制方法,将内容显示在屏幕上,使用UI基础组件

      浏览器的渲染优化
      一、针对JS
      1、将JS文件放在body的最后;
      2、body中间尽量不要写<script>标签;
      3、<script>标签引入资源方式
      1)、直接引入.script立即停止渲染去加载资源文件;
      2)、async. 下载完成,立即异步加载,加载好立即执行;
      3)、defer. 下载完成,如果DOM树还没有构建好,等DOM树构建好再执行;如果DOM数已经构建好,立即执行.

      二、针对CSS
      1、使用link
      link方便管理,避免闪屏,必须解析完成,而且是同步解析(要么看不到页面,要么看到完整的页面)
      只有Link引入的外部css才能够产生阻塞;
      2、style: GUI直接渲染
      由html解析器进行解析.不阻塞浏览器渲染,不阻塞DOM解析;

      三、针对DOM树、CSSDOM树
      1、HTML文件的代码层级尽量不要太深;
      2、使用语义化的标签,避免使用不标准语义化的特殊处理;
      3、减少CSSD代码的层级

      四、减少回流和重绘
      1、操作DOM时,尽量在底层级的DOM节点进行操作;
      2、不要使用table布局,前一发而动全身;
      3、不要使用css的表达式;
      4、不要频繁操作原元素的样式;
      5、将需要多次重排的元素，position属性设为absolute或fixed
      6、避免频繁操作DOM,例如查询、轮询、高亮处理;
      7、将元素先设置为display:none,操作结束以后再把它显示出来,不会引发回流和重绘;
      8、将DOM的多个操作放在一起,渲染队列机制;
      9、如果需要创建多个DOM节点，可以使用DocumentFragment,创建完后一次性的加入document

     */
    </script>
  </body>
</html>
