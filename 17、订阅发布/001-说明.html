<!DOCTYPE html>
<html>
  <head>
    <title>DEMO</title>
  </head>
  <body>
    <div id="container"> 
    </div>
    
    <script>
    console.log('*************发布-订阅模式******************')  
    /*
      1、发布-订阅模式叫做观察者模式.它定义对象间的一种一对多的依赖关系,当一个对象的状态发生改变,
      所有依赖它的对象都得到通知

      2、作用
      1)、支持简单的广播通信,当对象状态发生变化,会自动通知已经订阅过的对象;
      2)、可以应用在异步编程中,替代回调函数,可以订阅ajax之后的事件,只需要订阅自己需要的部分,不需要关心对象
      在异步运行时候的状态;
      3)、对象之间的松耦合,对象之间互相不了解彼此;
      4)、vue\react之间实现跨组件之间的传值
      
      3、缺点
      1)、创建订阅着需要消耗一定的时间和内存
      2)、过度使用,反而是代码不容易理解和维护

      4、如何实现发布——订阅迷失
      1)、首先要想好谁是发布者;
      2)、然后给发布者添加一个缓存列表,用于存放回调函数来通知订阅者
      3)、最后谁是发布者,发布者遍历这个缓存列表,以此触发里面存放的订阅者回调函数
    */
    </script>
  </body>
</html>
