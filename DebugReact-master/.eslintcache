[{"/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/index.js":"1","/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/whichReact.js":"2","/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/pages/SetStatePage.jsx":"3","/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/pages/DiffPage.jsx":"4"},{"size":527,"mtime":1641365596000,"results":"5","hashOfConfig":"6"},{"size":892,"mtime":1641365596000,"results":"7","hashOfConfig":"6"},{"size":2010,"mtime":1641365596000,"results":"8","hashOfConfig":"6"},{"size":578,"mtime":1641365596000,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12","usedDeprecatedRules":"13"},"r3drbo",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"13"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"13"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},"/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/index.js",["22"],"import { React, ReactDOM } from \"./whichReact\";\nimport \"./index.css\";\nimport SetStatePage from \"./pages/SetStatePage\";\nimport DiffPage from \"./pages/DiffPage\";\n\n// ReactDOM.render(<SetStatePage />, document.getElementById(\"root\"));\n\n// ReactDOM.render(<DiffPage />, document.getElementById(\"root\"));\n\nReactDOM.createRoot(document.getElementById(\"root\")).render(<DiffPage />);\n\n// ReactDOM.createRoot(document.getElementById(\"root\")).render(\n//   <UseDeferredValuePage />\n// );\n\n// console.log(\"React\", React.version); //sy-log\n",["23","24"],"/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/whichReact.js",[],"/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/pages/SetStatePage.jsx",["25","26"],"import * as ReactDOM from \"react-dom\";\nimport * as React from \"react\";\nimport { useState, Component } from \"react\";\n\n// // setState在合成事件中，是异步执行（批量执行）\n// // 但是在setTimeout、或者原生事件中就是同步的\nexport default class SetStatePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0,\n    };\n  }\n  componentDidMount() {\n    document.getElementById(\"host\").addEventListener(\n      \"click\",\n      //// 即react-reconciler/src/ReactFiberWorkLoop.js batchedUpdates\n      // //() => ReactDOM.unstable_batchedUpdates(this.changeCount),\n      this.changeCount,\n      false\n    );\n  }\n\n  changeCount = () => {\n    const { count } = this.state;\n\n    // ReactDOM.flushSync(() => {\n    this.setState({\n      count: count + 1,\n    });\n    // });\n\n    // ReactDOM.flushSync(() => {\n    this.setState({\n      count: count + 2,\n    });\n    // });\n\n    console.log(\"改变count\", this.state.count); //sy-log\n  };\n\n  changeCountWithSetTimeout = () => {\n    setTimeout(() => {\n      this.changeCount(); // setState\n    }, 0);\n  };\n\n  render() {\n    const { count } = this.state;\n    return (\n      <div>\n        <h3>SetStatePage</h3>\n        <p>count: {count}</p>\n        <button onClick={this.changeCount}>change count 合成事件</button>\n\n        <button onClick={this.changeCountWithSetTimeout}>\n          合成事件 setTimeout click\n        </button>\n\n        <button id=\"host\">原生事件</button>\n      </div>\n    );\n  }\n}\n\n/* <ul ><li></li></ul> */\n\n// export default function SetStatePage(props) {\n//   const [count, setCount] = useState(0);\n//   const handle = () => {\n//     ReactDOM.flushSync(() => {\n//       setCount(count + 1);\n//     });\n//     // ReactDOM.flushSync(() => {\n//     //   setCount(count + 2);\n//     // });\n//     console.log(\"count\", count); //sy-log\n//   };\n\n//   return (\n//     <div>\n//       <h3>SetStatePage</h3>\n//       <button onClick={handle}>{count}</button>\n//     </div>\n//   );\n// }\n","/Users/linjinsheng/Desktop/01-前端面试/DebugReact-master/src/pages/DiffPage.jsx",["27","28"],"import { React, ReactDOM, useState } from \"../whichReact\";\n\n// old 1 3 2 5\n// new 0 1 2 3 4\n\n// 新增 0 4\n// 复用 1 2 3\n// 移动 3\nexport default function DiffPage() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div className=\"border\">\n      <button\n        onClick={() => {\n          setCount(count + 1);\n        }}\n      >\n        {count}\n      </button>\n      <ul>\n        {count % 2 == 0\n          ? [1, 3, 2, 5].map((item) => <li key={item}>{item}</li>)\n          : [0, 1, 2, 3, 4].map((item) => <li key={item}>{item}</li>)}\n      </ul>\n    </div>\n  );\n}\n",{"ruleId":"29","severity":1,"message":"30","line":3,"column":8,"nodeType":"31","messageId":"32","endLine":3,"endColumn":20},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"29","severity":1,"message":"37","line":1,"column":13,"nodeType":"31","messageId":"32","endLine":1,"endColumn":21},{"ruleId":"29","severity":1,"message":"38","line":3,"column":10,"nodeType":"31","messageId":"32","endLine":3,"endColumn":18},{"ruleId":"29","severity":1,"message":"37","line":1,"column":17,"nodeType":"31","messageId":"32","endLine":1,"endColumn":25},{"ruleId":"39","severity":1,"message":"40","line":22,"column":20,"nodeType":"41","messageId":"42","endLine":22,"endColumn":22},"no-unused-vars","'SetStatePage' is defined but never used.","Identifier","unusedVar","no-native-reassign",["43"],"no-negated-in-lhs",["44"],"'ReactDOM' is defined but never used.","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]