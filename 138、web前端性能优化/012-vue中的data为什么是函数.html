<!DOCTYPE html>
<html>
  <head>
    <title>vue中的data为什么是函数</title>
  </head>
  <body>
    <script>
    console.log('*************vue中的data为什么是函数******************')
    /**
     * 一个vue组件就是一个vue实例
     * 实例是通过构造函数来构建的,每个构造函数可以new出很多个实例,每个实例
     * 都会继承原型上的方法和属性
     * vue中的data数据是vue组件原型上的属性,数据存在内存当中
     */ 

     // 创建一个简单的构建函数
     var MyComponent = function() {
        this.data = this.data()
     }
     // 原型链对象上设置data数据,里为object
     MyComponent.prototype.data = function(){
       return {
        name: 'abc',
        age: 20
       }
     }
     // 创建两个实例
     var xiaoming = new MyComponent()
     var xiaohong = new MyComponent()
     // 默认情况下小明和小红的年龄一样
     console.log(xiaoming.data.age === xiaohong.data.age)
     // 改变一下小明的年龄
     xiaoming.data.age = 30;
     console.log(xiaoming.data.age)
     console.log(xiaohong.data.age)
     // 使用函数后,使用的是data()函数,data()函数中的this指向的是当前实例本身
</script>
  </body>
</html>
